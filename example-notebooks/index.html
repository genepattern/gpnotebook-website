<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>Notebook Collection &#8211; Gene Pattern Notebook</title>
    <link rel='dns-prefetch' href='//maxcdn.bootstrapcdn.com' />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel='dns-prefetch' href='//s.w.org' />
    <link rel='stylesheet' id='font-awesome-css'  href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=4.7.4' type='text/css' media='all' />
    <script type='text/javascript' src='../wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
    <script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script type='text/javascript' src='../wp-content/themes/genepattern/js/onepagenav.js?ver=4.7.4'></script>
    <script type='text/javascript' src='../wp-content/themes/genepattern/js/stickykit.js?ver=4.7.4'></script>
    <script type='text/javascript' src='../wp-content/themes/genepattern/js/scripts.js?ver=4.7.4'></script>
    <link rel='https://api.w.org/' href='../wp-json/' />
    <script type='text/javascript'>
    /* When the user clicks on the button, 
    toggle between hiding and showing the dropdown content */
    function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
    }
    /* When the user clicks on the button, 
    toggle between hiding and showing the dropdown content */
    function myFunction2() {
        document.getElementById("myDropdown2").classList.toggle("show");
    }
    // Close the dropdown if the user clicks outside of it
    window.onclick = function(e) {
      if (!e.target.matches('.dropbtn')) {
        var myDropdown = document.getElementById("myDropdown2");
          if (myDropdown.classList.contains('show')) {
            myDropdown.classList.remove('show');
          }
        var myDropdown = document.getElementById("myDropdown");
          if (myDropdown.classList.contains('show')) {
            myDropdown.classList.remove('show');
          }
      }
    }
    </script>
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-106705148-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments)};
      gtag('js', new Date());

      gtag('config', 'UA-106705148-1');
    </script>
    <link rel="stylesheet" href="../wp-content/themes/genepattern/dropdown.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../wp-content/themes/genepattern/style.css" type="text/css" media="screen" />
</head>
    
<body class="page-template-default page page-id-7">
    <div id="wrapper">
        <header id="header">
            <div class="container cf">
                <a href=".." id="logo"><img src="../wp-content/themes/genepattern/images/logo.png" alt="Gene Pattern Notebook" /></a>
                <nav>
                    <a href="#" id="mobile-menu"><i class="fa fa-bars"></i></a>
                    <ul id="menu-main-menu" class="menu">
                        <li id="dropdown" class="menu-item">
                            <ol class="dropdown">
                                <li class="dropbtn" onclick="myFunction()" style="margin-left: 0%">Guides</li>
                                <hr style="height: 18px; visibility: hidden;" id="mobile">
                                <div class="dropdown-content" id="myDropdown">
                                    <a href="../user-guide/">Getting Started</a>
                                    <hr style="margin: 1%">
                                    <a href="../basic-features/">Basic Features</a>
                                    <a href="../publishing-sharing/">Publishing & Sharing Notebooks</a>
                                    <a href="../new-features/">New Features</a>
                                    <hr style="margin: 1%">
                                    <a href="../programmatic/">Programmatic Features</a>
                                    <a href="../install/">Local Installation</a>
                                    <a href="../for-jupyter-users/">Jupyter Users</a>
                                </div>
                            </ol>
                        </li>
                        <li id="menu-item-18" class="menu-item"><a href="../tutorials/">Videos/Tutorials</a></li>
                        <li id="menu-item-17" class="menu-item menu-item- ntype-post_type menu-item-object-page menu-item-17"><a
                                href="../faq/">FAQ</a></li>
                        <li id="dropdown" class="menu-item">
                            <ol class="dropdown">
                                <li class="dropbtn" onclick="myFunction2()" style="margin-left: 0%">Resources</li>
                                <hr style="height: 18px; visibility: hidden;" id="mobile">
                                <div class="dropdown-content" id="myDropdown2">
                                    <a href="../public-notebooks/">Featured Notebooks</a>
                                    <a href="../example-notebooks/">Notebook Library</a>
                                    <a href="../community/">Community</a>
                                    <a href="../releases/">Releases</a>
                
                                    <a href="../cheat-sheet/">Cheat Sheet</a>
                                </div>
                            </ol>
                        </li>
                        <li id="menu-item-16" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-16"><a
                                href="../about/">About</a></li>
                        <li id="menu-item-16" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-16"><a
                                href="../contact/">Contact</a></li>
                        <li id="menu-item-51" class="button" style="font-weight: 300"><a
                                href="https://notebook.genepattern.org/hub/login">Login/Register</a></li>
                    </ul>
                </nav>
            </div>
        </header>
            <div style="border: 1px solid grey; padding: 20px; margin:50px; overflow-y: scroll; background-color: rgb(236, 236, 236); text-align:left; margin-top: 0px;margin-bottom: 0px;">
                    <input id="nb-search" type="search" placeholder="Search Notebooks" style="float: right; border-radius: 10px; padding: 3px; width: 300px;" >
                    <h1 style="margin-bottom: 20px; font-size: 30px;">List of the current public notebooks</h1>
                    <hr>
                    <div id="notebook_list" class="scrollable-menu" role="menu" style="max-height: 600px; overflow-x: hidden; overflow-y: scroll; margin-right: 1px;">
                    </div>
                    <script type="application/javascript">
                        $("#nb-search").keyup(function() {
                            const search_query = $("#nb-search").val().toLowerCase();
                            $(".notebook-listing").each(function(i, e) {
                                const listing_text = $(e).text().toLowerCase();
                                if (listing_text.includes(search_query) || search_query === "") $(e).show();
                                else $(e).hide();
                            });
                        });

                        function workshop(nb) {
                            let is_workshop = false;
                            nb.tags.forEach(function(tag) {
                                if (tag.label === "workshop") is_workshop = true;
                            });

                            return is_workshop;
                        }

                        function featured(nb) {
                            let is_featured = false;
                            nb.tags.forEach(function(tag) {
                                if (tag.label === "featured") is_featured = true;
                            });

                            return is_featured;
                        }

                        function sort_notebooks(notebooks) {
                            const tutorial = [];
                            const featured_nb = [];
                            const other = [];

                            notebooks.forEach(function(nb) {
                                if (nb.name === "GenePattern Notebook Tutorial") tutorial.push(nb);
                                else if (featured(nb)) featured_nb.push(nb);
                                else if (!workshop(nb)) other.push(nb);
                            });

                            return tutorial.concat(featured_nb, other);
                        }

                        $.ajax({
                            type: "GET",
                            url: "https://notebook.genepattern.org/services/sharing/notebooks/",
                            dataType: "json",
                            cache: false,
                            success: function(data) {
                                const notebooks = sort_notebooks(data.results);
                                notebooks.forEach(function(nb) {
                                    if (!workshop(nb)) {
                                    $(`<div class="notebook-listing col-sm-4" style="padding: 20px; background-color: white; border: 1px solid grey;height: 150px;overflow:hidden;"><h3 class="notebook-name" style="color: #103875; font-size: 20px; font-weight: 600; margin: 0px auto;"><a href="https://notebook.genepattern.org/services/sharing/notebooks/${nb.id}/preview/" target="_blank" style="text-decoration:none;">${nb.name}</a></h3>
                                    <address class="notebook-author" rel="author" style="font-size: 14px;">${nb.author}</address>
                                    <address class="notebook-quality" rel="quality" style="font-size: 12px;">${nb.quality}</address>
                                    <p class="notebook-description" style="font-size: 12px; margin-bottom: 0px;">${nb.description}</p></div>`)
                                        .appendTo("#notebook_list");
                                    }
                                });
                            },
                            error: function(error) {
                                console.log(error);
                            }
                        });
                    </script>
                    <!-- <p style="text-align: center; padding-top: 20px; padding-bottom: 0px; margin-top: -50px;"><span class="glyphicon glyphicon-chevron-down" style="font-size: 20px; color:"></span></p> -->
                </div>
                <br><br>

            </section>
        </div>
        <footer id="footer">
            <div class="container">
                <p>GenePattern Notebook usage is free and the software is open source under a BSD-style license.</p>
                <p>Â© 2019 Regents of the University of California and the Broad Institute. </p>
            </div>
        </footer>
    </div>
    <script type='text/javascript' src='../wp-includes/js/wp-embed.min.js?ver=4.7.4'></script>

</body>
</html>
